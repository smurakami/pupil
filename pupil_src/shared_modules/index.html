<html>
  <head>
    <title></title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script language="javascript">
      var ws = new WebSocket("ws://localhost:8080/ws");
      ws.onopen = function() {
       ws.send("Hello, world");
      };
      ws.onmessage = function (evt) {
        // var output = document.getElementById("output");
        // var s = output.innerHTML;
        // s += "<p>";
        // s += evt.data;
        // s += "</p>";
        // output.innerHTML = s;

        var data = JSON.parse(evt.data);
        var pos = data.pos_in_display;

        $('#gazepoint').css('left', (pos.x * 100)+'%');
        $('#gazepoint').css('top', ((1 - pos.y) * 100)+'%');

         // document.write("<strong>" + evt.data + "</strong>");
        };
        $(function(){
          var h = $(window).height();
          var w = $(window).width();
          // $('#field').css('height', h);
          // $('#field').css('width', w);
        });
    </script>
    <style type="text/css">
        *{
        margin:0px;
        padding:0px;
        }
        html,body{
          height: 100%;
        }
        #output {
            width: 100%;
        }
        #field {
          width: 100%;
          height: 100%;
          border: 1px solid black;
        }
        #gazepoint {
          position: relative;
          width: 10px;
          height: 10px;
          background-color: red;
        }
    </style>
  </head>
  <body>
    <div id="field"><div id="gazepoint"></div></div>
    <div id="output"></div>
  </body>
</html>